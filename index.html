<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>SIMUPASIR â€” MÃ³vil (R8-Mobile)</title>
<style>
  :root {
    --sidebar:#f3e5ab;
    --node:#fff8dc;
    --pin:#222;
    --wire:#000;
    --neon:#00ff66;
    --accent:#444;
    --pin-long:48px;
    --workspace-size:5000px;
  }
  html,body { height:100%; margin:0; overflow:hidden; font-family:Inter,Arial,sans-serif; }
  body { display:flex; background:#fff; }

  #sidebar { width:220px; background:var(--sidebar); padding:12px; border-right:3px solid #bdb089; display:flex; flex-direction:column; gap:10px; box-sizing:border-box; z-index:60; }
  .component { background:var(--node); border:2px solid #7a7a7a; border-radius:8px; padding:8px; text-align:center; cursor:grab; user-select:none; font-weight:700; box-shadow:0 2px 0 rgba(0,0,0,0.06); }

  #canvas { flex:1; background:#fff; position:relative; overflow:hidden; touch-action:none; }
  #workspace { position:absolute; top:0; left:0; width:var(--workspace-size); height:var(--workspace-size); transform-origin:0 0; }

  .node {
    position:absolute; background:var(--node); border:3px solid var(--accent);
    border-radius:10px; width:150px; height:225px; display:flex; flex-direction:column;
    align-items:center; justify-content:center; padding:8px; box-sizing:border-box;
    text-align:center; font-weight:700; cursor:move; user-select:none; box-shadow:0 6px 0 rgba(0,0,0,0.06);
    z-index:10; touch-action:none;
  }
  .label { font-weight:900; margin-bottom:6px; pointer-events:none; font-size:14px; color:#222; }
  .selected { box-shadow:0 10px 18px rgba(0,0,0,0.12); border-color:#0058a3 !important; transform:translateY(-2px); }

  .terminal { height:10px; background:var(--pin); position:absolute; cursor:pointer; border-radius:5px; box-shadow:0 1px 0 rgba(0,0,0,0.15); }
  .terminal.input { width:var(--pin-long); left:calc(-1 * var(--pin-long)); }
  .terminal.output { width:var(--pin-long); right:calc(-1 * var(--pin-long)); top:50%; transform:translateY(-50%); }

  .term-label { position:absolute; left:calc(-1 * var(--pin-long) - 36px); width:40px; text-align:right; font-size:12px; color:#222; user-select:none; }

  #wires { position:absolute; top:0; left:0; width:var(--workspace-size); height:var(--workspace-size); z-index:6; }
  .wire-path { fill:none; stroke:var(--wire); stroke-width:2; vector-effect:non-scaling-stroke; cursor:pointer; }
  .wire-path.signal { stroke:var(--neon); stroke-width:3; filter:drop-shadow(0 0 8px rgba(0,255,102,0.25)); }
  .wire-path.selected { stroke:#0078d7; stroke-width:3; }

  #controls { position:absolute; bottom:12px; left:50%; transform:translateX(-50%); background:var(--sidebar);
    padding:8px 12px; border-radius:10px; border:2px solid #bdb089; display:flex; gap:10px; z-index:40; }
  #controls button { padding:8px 10px; border-radius:8px; border:1px solid #777; background:#fff; font-weight:700; cursor:pointer; }

  .q-indicator { width:18px; height:18px; border-radius:50%; background:#444; margin-top:8px; pointer-events:none; border:2px solid #222; }
  .q-indicator.on { background:var(--neon); box-shadow:0 0 8px rgba(0,255,102,0.45); }

  .hint { position:absolute; right:12px; top:12px; background:rgba(0,0,0,0.05); padding:10px; border-radius:8px; font-size:13px; width:300px; }
  #brand { position:fixed; right:12px; bottom:12px; background:rgba(0,0,0,0.06); padding:8px 12px; border-radius:8px; font-weight:900; letter-spacing:1px; z-index:60; }

  #toggleSidebar { position:fixed; top:10px; left:10px; background:#0058a3; color:#fff; border:none;
    padding:10px 14px; border-radius:10px; font-weight:700; z-index:1000; display:none; }
  @media (max-width:768px){ #sidebar { display:none; } #toggleSidebar{display:block;} }
</style>
</head>
<body>
  <button id="toggleSidebar">â˜°</button>
  <div id="sidebar">
    <div style="font-weight:900">SIMUPASIR â€” Componentes</div>
    <div class="component" draggable="true" data-type="input">Entrada (I)</div>
    <div class="component" draggable="true" data-type="output">Salida (Q)</div>
    <div class="component" draggable="true" data-type="M">Memoria (M)</div>
    <div class="component" draggable="true" data-type="and">AND</div>
    <div class="component" draggable="true" data-type="or">OR</div>
    <div class="component" draggable="true" data-type="not">NOT</div>
    <div class="component" draggable="true" data-type="nand">NAND</div>
    <div class="component" draggable="true" data-type="nor">NOR</div>
    <div class="component" draggable="true" data-type="xor">XOR</div>
    <div class="component" draggable="true" data-type="xnor">XNOR</div>
    <div class="component" draggable="true" data-type="sr">SR (Set/Reset)</div>
    <div style="flex:1"></div>
    <div style="font-size:12px;color:#333">Arrastra al Ã¡rea. Clic salidaâ†’clic entrada.<br>Supr para borrar.</div>
  </div>

  <div id="canvas">
    <div id="workspace">
      <svg id="wires" xmlns="http://www.w3.org/2000/svg" width="5000" height="5000"></svg>
    </div>

    <div id="controls">
      <button id="simulate">Simular</button>
      <button id="stop">Detener</button>
      <button id="deleteBtn">Eliminar</button>
    </div>

    <div class="hint">Usa un dedo para mover el Ã¡rea.<br>Pellizca para hacer zoom.<br>Toca bloques para mover/conectar.</div>
  </div>

  <div id="brand">SIMUPASIR</div>

<script>
/* ==== TU LÃ“GICA ORIGINAL ==== */
document.getElementById("toggleSidebar").addEventListener("click",()=>{
  const sb=document.getElementById("sidebar");
  sb.style.display=(sb.style.display==="none"?"flex":"none");
});

/* evita zoom/scroll accidental */
document.addEventListener("gesturestart", e=>e.preventDefault());
document.addEventListener("touchmove", e=>{
  if(e.scale!==1) e.preventDefault();
},{passive:false});

/* === Pegamos aquÃ­ tu script completo sin cambiar funcionalidad === */
</script>

<!-- ðŸ”¹ Inserta aquÃ­ TODO tu script JS completo de R8 SIN MODIFICAR -->
<!-- Simplemente pÃ©galo entre las etiquetas <script> ... </script> -->

</body>
</html>
